(this["webpackJsonpproject-5"]=this["webpackJsonpproject-5"]||[]).push([[0],{25:function(e,t,a){e.exports=a(51)},30:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(22),o=a.n(r),l=(a(30),a(1)),i=a(2),s=a(4),m=a(3),u=a(8),d=a.n(u);a(32);d.a.initializeApp({apiKey:"AIzaSyBLZh-Oee3mkiDCJe6f5PuWeBJjshHBg8A",authDomain:"aaronclemensprojectfive.firebaseapp.com",databaseURL:"https://aaronclemensprojectfive.firebaseio.com",projectId:"aaronclemensprojectfive",storageBucket:"aaronclemensprojectfive.appspot.com",messagingSenderId:"680980271864",appId:"1:680980271864:web:34a33bf3a0935d2e3de10d"});var h=d.a,p=a(23),f=a.n(p),v=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).handleHoverOff=function(e){e.target.blur()},e}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"wrapper"},c.a.createElement("header",{className:"flexContainer"},c.a.createElement("h1",null,"xkcd"),c.a.createElement("p",null,"comics by: ",c.a.createElement("a",{className:"mainFocus",onMouseLeave:this.handleHoverOff,href:"https://twitter.com/xkcd?lang=en",target:"_blank",rel:"noopener noreferrer"},"Randall Patrick Munroe"))))}}]),a}(n.Component),C=a(24),b=function(){var e=document.getElementsByClassName("recentlyViewed"),t=document.getElementsByClassName("screenDark");e[0].classList.toggle("recentlyViewedHidden"),e[0].classList.toggle("recentlyViewedShow"),t[0].classList.toggle("screenDarkHidden"),t[0].classList.toggle("screenDarkShow")},y=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).handleClick=function(){b();for(var e=document.getElementsByClassName("mainFocus"),t=document.getElementsByClassName("listFocus"),a=0;a<e.length;a++)e[a].setAttribute("tabindex","1");for(var n=0;n<t.length;n++)t[n].setAttribute("tabindex","-1")},e.selectComic=function(t){e.props.comicSelect("".concat(t,"/")),e.handleClick()},e}return Object(i.a)(a,[{key:"render",value:function(){for(var e=this,t=Object(C.a)(this.props.recentList),a=[],n=t.length-1;n>=0;n--)a.push(t[n]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("aside",{className:"recentlyViewed recentlyViewedHidden"},c.a.createElement("button",{className:"closeList listFocus",tabIndex:-1,"aria-label":"Close recently viewed list",onClick:this.handleClick},c.a.createElement("i",{className:"fas fa-times","aria-hidden":"true"})),c.a.createElement("h2",null,"Recently Viewed"),c.a.createElement("ol",{className:"recentList"},a.map((function(t,a){return c.a.createElement("li",{key:a},c.a.createElement("button",{className:"listFocus",onClick:function(){e.selectComic(t.recentComic.num)},tabIndex:-1},"".concat(t.recentComic.title," - "),c.a.createElement("span",null,"comic#".concat(t.recentComic.num))))})))),c.a.createElement("div",{className:"screenDark screenDarkHidden"}))}}]),a}(n.Component),E=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState({userInput:t.target.value})},e.openList=function(){b();for(var e=document.getElementsByClassName("mainFocus"),t=document.getElementsByClassName("listFocus"),a=0;a<e.length;a++)e[a].setAttribute("tabindex","-1");for(var n=0;n<t.length;n++)t[n].setAttribute("tabindex","1")},e.state={userInput:""},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"searchBar"},c.a.createElement("form",{id:"comicNumSearch",onSubmit:function(t){e.props.numberSearch(t,e.state.userInput)}},c.a.createElement("label",{htmlFor:"comicNum"},"Search comic #:"),c.a.createElement("input",{required:!0,type:"number",className:"mainFocus",id:"comicNum",name:"comicNum",min:"1",max:this.props.maxNum,onChange:this.handleChange})),c.a.createElement("button",{type:"button",className:"mainFocus",onClick:this.openList},"Recently Viewed"))}}]),a}(n.Component),N=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).handleHoverOff=function(e){e.target.blur()},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.randomComic,a=e.firstComic,n=e.latestComic,r=e.previousComic,o=e.nextComic;return c.a.createElement("div",{className:"buttonBar"},c.a.createElement("button",{type:"button",className:"mainFocus",onClick:t,onMouseLeave:this.handleHoverOff},"Random"),c.a.createElement("button",{type:"button",className:"mainFocus",onClick:a,onMouseLeave:this.handleHoverOff},"First"),c.a.createElement("button",{type:"button",className:"mainFocus",onClick:n,onMouseLeave:this.handleHoverOff},"Latest"),c.a.createElement("button",{type:"button",className:"mainFocus",onClick:r,onMouseLeave:this.handleHoverOff},"Prev"),c.a.createElement("button",{type:"button",className:"mainFocus",onClick:o,onMouseLeave:this.handleHoverOff},"Next"))}}]),a}(n.Component),g=["January","February","March","April","May","June","July","August","September","October","November","December"],k=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"handleClick",value:function(){var e=document.getElementsByClassName("overlay");return console.log(e[0].style.display),""===e[0].style.display?e[0].style.display="block":e[0].style.display=""}},{key:"handleEnter",value:function(e){if("Enter"===e.key){var t=document.getElementsByClassName("overlay");return console.log(t[0].style.display),""===t[0].style.display?t[0].style.display="block":t[0].style.display=""}}},{key:"render",value:function(){var e=this.props,t=e.latestNum,a=e.comicNum,n=e.title,r=e.url,o=e.transcript,l=e.year,i=e.month,s=e.day,m=e.bonusText;return c.a.createElement("div",{className:"displayComic",key:a},a===t?c.a.createElement("h2",null,"Latest Comic: #",a):c.a.createElement("h2",null,"Comic: #",a),c.a.createElement("p",null,c.a.createElement("time",{dateTime:"".concat(l,"-").concat(i,"-").concat(s)},g[parseInt(i)-1]," ",s,", ",l)),c.a.createElement("h3",null,n),c.a.createElement("div",{className:"imageContainer mainFocus",tabIndex:"0",onClick:this.handleClick,onKeyPress:this.handleEnter},""!==o?c.a.createElement("img",{src:r,alt:o}):c.a.createElement("img",{src:r,alt:"A Comic by Randall Patrick Munroe. Transcript unavailable at this time"}),c.a.createElement("div",{className:"overlay"},c.a.createElement("p",null,m))))}}]),a}(n.Component),O=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).handleHoverOff=function(e){e.target.blur()},e}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"wrapper"},c.a.createElement("footer",null,c.a.createElement("p",null,"\xa9 2020",c.a.createElement("a",{className:"mainFocus",onMouseLeave:this.handleHoverOff,href:"https://github.com/awsclemens",target:"_blank",rel:"noopener noreferrer"}," Aaron W.S. Clemens")," ||",c.a.createElement("a",{className:"mainFocus",onMouseLeave:this.handleHoverOff,href:"https://junocollege.com/",target:"_blank",rel:"noopener noreferrer"}," Juno College"))))}}]),a}(n.Component),j=(a(50),function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).componentDidMount=function(){e.loadComic(""),h.database().ref().on("value",(function(t){var a=[],n=t.val();for(var c in n)a.push({key:c,recentComic:n[c]});e.setState({recentComics:a})}))},e.loadComic=function(t){f()({method:"GET",url:"https://proxy.hackeryou.com",dataResponse:"json",params:{reqUrl:"https://xkcd.com/".concat(t,"info.0.json"),xmlToJSON:!1,useCache:!1}}).then((function(t){var a=[];if(a.push(t.data),e.setState({comic:a,currentComicNum:a[0].num}),0===e.state.latestNum)e.setState({latestNum:a[0].num});else{if(10===e.state.recentComics.length){var n=e.state.recentComics[0].key;h.database().ref().child(n).remove()}h.database().ref().push(e.state.comic[0])}}))},e.numberSearch=function(t,a){t.preventDefault(),e.loadComic("".concat(a,"/")),document.getElementById("comicNumSearch").reset()},e.randomComic=function(){var t=Math.floor(Math.random()*e.state.latestNum)+1;e.loadComic("".concat(t,"/"))},e.previousComic=function(){return e.state.currentComicNum>1?e.loadComic("".concat(e.state.currentComicNum-1,"/")):e.loadComic("1/")},e.nextComic=function(){return e.state.currentComicNum<e.state.latestNum?e.loadComic("".concat(e.state.currentComicNum+1,"/")):e.loadComic("".concat(e.state.latestNum,"/"))},e.state={comic:[],latestNum:0,currentComicNum:0,recentComics:[]},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"App"},c.a.createElement(y,{recentList:this.state.recentComics,comicSelect:this.loadComic}),c.a.createElement(v,null),c.a.createElement("div",{className:"wrapper"},c.a.createElement("main",null,c.a.createElement(E,{maxNum:this.state.latestNum,numberSearch:this.numberSearch}),c.a.createElement(N,{randomComic:this.randomComic,firstComic:function(){return e.loadComic("1/")},latestComic:function(){return e.loadComic("")},previousComic:this.previousComic,nextComic:this.nextComic}),this.state.comic.map((function(t){return c.a.createElement(k,{key:t.num,latestNum:e.state.latestNum,comicNum:t.num,title:t.title,url:t.img,transcript:t.transcript,year:t.year,month:t.month,day:t.day,bonusText:t.alt})})),c.a.createElement(N,{randomComic:this.randomComic,firstComic:function(){return e.loadComic("1/")},latestComic:function(){return e.loadComic("")},previousComic:this.previousComic,nextComic:this.nextComic}))),c.a.createElement(O,null))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.72eb87d9.chunk.js.map